program(decls) ::= <<
program {
    $decls:{d | $declKind(d)$ $prettyDecl(d.Type, d.Name)$};separator=";\n\n"$;
};
>>

declKind(decl) ::= <<
$if(decl.SampleDecl)$sample$else$typedef$endif$
>>

prettyDecl(obj, name) ::= <<
$(obj.TemplateType)(obj,name)$
>>

PrimType(obj, name) ::= <<
$obj.TypeName$ $name$
>>

UserType(obj, name) ::= <<
$obj.TypeName$ $name$
>>

VoidType(obj, name) ::= <<
void $name$
>>

StructType(obj, name) ::= <<
struct {
  $obj.TTFields:{f |$prettyDecl(f, f.Name)$};separator=";\n"$;
} $name$
>>

//Field ignores the name parameter, and uses obj.name
Field(obj, name) ::= <<
$prettyDecl(obj.Type, obj.name)$
>>

ArrayType(obj, name) ::= <<
$obj.TypeName$ $name$$obj.ArrayDims:{d | [$d.TTString$]}$
>>

